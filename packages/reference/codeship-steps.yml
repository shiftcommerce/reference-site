- name: stylelint
  service: web
  command: yarn run lint:css

- type: parallel
  steps:
    - service: web
      name: unit tests
      command: yarn run test:unit
    - service: web
      name: integration tests
      command: bash -c "npm rebuild && yarn run test:integration"
    - service: web
      name: shift-api
      command: vendor/shift-api/bin/test
    - service: web
      name: shift-react-components
      command: vendor/shift-react-components/bin/test
    - service: web
      name: shift-next
      command: vendor/shift-next/bin/test

- name: deploy
  tag: develop
  service: herokudeployment
  command: codeship_heroku_deploy -f /app -N shift-front-end-staging
