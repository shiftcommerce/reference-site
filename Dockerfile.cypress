# Use Cypress provided image with all dependencies included
FROM cypress/base:10
WORKDIR /app
# Avoid many lines of progress bars during install
# https://github.com/cypress-io/cypress/issues/1243
ENV CI=1
# Copy across the wait-for-it script
COPY ./bin/docker/wait-for-it.sh ./bin/docker/wait-for-it.sh
# Install NPM dependencies and Cypress binary
RUN yarn add cypress@3.2.0
# Cypress File
COPY cypress.json ./cypress.json
# Test files
COPY cypress ./cypress
